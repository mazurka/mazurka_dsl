#|
Documentation for the @test resource
|#
resource @test

#|
assign 1 to Integer
|#
--lazy.
--other_attr.
--timeout 1.34.
Integer <- 1

#|
assign 3.14 to Float
|#
Float <- 3.14

#|
docs for @other
|#
resource @other

action() ->
  Float <- 3.14
  1.

lists() ->
  Lists <- [1, 2, 3]
  [].

maps() ->
  Map <- #{}
  #{}.

tuples() ->
  Tuple <- {atom1 {3 5} 4.1}
  {}.

args(Var1, Var2) ->
  ok.

calls(Var3) ->
  --attr inside_action.
  Var4 <- users:get(Var3)
  1.

; comprehensions(Users) ->
;   UserList <- [@user:get(User) || User <- Users]
;   ok.

maps() ->
  #{
    key <- value
    --attr can_go_here.
    nested <- #{
      #|
      as well as a doc string
      |#
      --other attr.
      real <- #{
        deep <- users:get(#{})
      }
    }
  }.
